#!/bin/bash
#
# Python package install script
#
# This is a script template for installing a Python package using pip.

packagename=package-name-on-pip
importname=package_name_on_import

if [[ ! -f setup.py ]]; then
  echo "ERROR: setup.py not found; run from the package root directory"
  exit 1
fi

# install the Python package, removing the existing one first to
# ensure updated package gets installed
cmd="import sys; sys.path.remove(''); import $importname"
if python -c "$cmd" 2> /dev/null; then
  pip uninstall -y "$packagename"
fi

pip install .
